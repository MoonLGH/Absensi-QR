let api="https://absensi-api-qr.vercel.app/";async function absen(){let t=document.getElementById("namaAbsen").value,e=document.getElementById("kelas").value,a=document.getElementById("id").value,n=localStorage.getItem("token"),s=await fetch(api+"api/addabsen",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nama:t,kelas:e,id:a,token:n})}),i=await s.json();200===i.status?alert("User Berhasil Dibuat "+i.message):alert("User Gagal Dibuat "+i.message)}async function LoadAbsen(){let t=await fetch(api+"api/showabsen"),e=await t.json();if(200===e.status){let t=document.getElementById("absen-table"),a="",n=e.message;console.log(n);for(let t=0;t<n.length;t++)a+=`\n            <tbody>\n        <tr class="bg-white">\n            <td class="px-4 py-2">${n[t].nama}</td>\n            <td class="px-4 py-2">${n[t].kelas}</td>\n            <td class="px-4 py-2">${n[t].absenId}</td>\n            <td class="px-4 py-2">\n            <button onclick="viewQR(this)" class="btn btn-primary" data-id="${n[t].absenId}">Info</button>\n            </td>\n            <td class="px-4 py-2">\n            <button onclick="deleteId(this)" class="btn btn-primary" data-id="${n[t].absenId}">Delete</button>\n            </td>\n        </tr>\n        </tbody>\n        `;console.log(a),t.innerHTML+=a,t.classList.add("table-auto")}}async function deleteId(t){if(!confirm("Yakin kah ?"))return;let e=t.getAttribute("data-id"),a=localStorage.getItem("token"),n=await fetch(api+"api/remuser",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a,id:e})}),s=await n.json();200===s.status?(alert(s.message),document.location.reload()):alert(s.message)}function viewQR(t){let e=t.getAttribute("data-id");document.location.href="./info.html?id="+e}LoadAbsen();
//# sourceMappingURL=buatAbsensi.e16f1c2e.js.map
