{"mappings":"AAAA,IAAIA,IAAM,qCACVC,eAAeC,QACX,IAAIC,EAAOC,SAASC,eAAe,aAAaC,MAC5CC,EAAQH,SAASC,eAAe,SAASC,MACzCE,EAAKJ,SAASC,eAAe,MAAMC,MACnCG,EAAQC,aAAaC,QAAQ,SAC7BC,QAAYC,MAAMb,IAAM,eAAgB,CACxCc,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEf,OAAKI,QAAMC,KAAGC,YAGrCU,QAAaP,EAAIQ,OACD,MAAhBD,EAAKE,OACLC,MAAM,wBAAyBH,EAAKI,SAEpCD,MAAM,qBAAsBH,EAAKI,QAEzC,CAIAtB,eAAeuB,YACX,IAAIZ,QAAYC,MAAMb,IAAM,iBACxBmB,QAAaP,EAAIQ,OAGrB,GAAoB,MAAhBD,EAAKE,OAAgB,CACrB,IAAII,EAAQrB,SAASC,eAAe,eAChCqB,EAAO,GACPN,EAAOD,EAAKI,QAChBI,QAAQC,IAAIR,GACZ,IAAK,IAAIS,EAAI,EAAGA,EAAIT,EAAKU,OAAQD,IAC7BH,GAAQ,2FAGgBN,EAAKS,GAAG1B,gDACRiB,EAAKS,GAAGtB,iDACRa,EAAKS,GAAGE,iIAEkCX,EAAKS,GAAGE,gKAGNX,EAAKS,GAAGE,yFAMhFJ,QAAQC,IAAIF,GACZD,EAAMO,WAAaN,EACnBD,EAAMQ,UAAUC,IAAI,aACxB,CACJ,CAEAjC,eAAekC,SAASC,GAEpB,IADmBC,QAAQ,eACT,OAClB,IAAI7B,EAAK4B,EAAEE,aAAa,WAEpB7B,EAAQC,aAAaC,QAAQ,SAC7BC,QAAYC,MAAMb,IAAM,cAAe,CACvCc,OAAQ,SACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAET,QAAMD,SAG7BW,QAAaP,EAAIQ,OACF,MAAhBD,EAAKE,QACJC,MAAMH,EAAKI,SACXnB,SAASmC,SAASC,UAElBlB,MAAMH,EAAKI,QAGnB,CAEA,SAASkB,OAAOjC,GACZ,IAAIkC,EAAUlC,EAAG8B,aAAa,WAC9BlC,SAASmC,SAASI,KAAO,kBAAkBD,CAC/C,CA5DAlB","sources":["src/assets/js/buatAbsen.js"],"sourcesContent":["let api = \"https://absensi-api-qr.vercel.app/\"\nasync function absen(){\n    let nama = document.getElementById(\"namaAbsen\").value;\n    let kelas = document.getElementById(\"kelas\").value;\n    let id = document.getElementById(\"id\").value;\n    let token = localStorage.getItem(\"token\");\n    let res = await fetch(api + \"api/addabsen\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ nama,kelas,id,token }),\n    });\n\n    let data = await res.json()\n    if (data.status === 200) {\n        alert(\"User Berhasil Dibuat \"+ data.message)\n    } else {\n        alert(\"User Gagal Dibuat \"+ data.message)\n    }\n}\n\nLoadAbsen()\n\nasync function LoadAbsen() {\n    let res = await fetch(api + \"api/showabsen\");\n    let data = await res.json();\n\n    // loop data.message to\n    if (data.status === 200) {\n        let table = document.getElementById(\"absen-table\");\n        let rows = \"\";\n        let json = data.message\n        console.log(json)\n        for (let i = 0; i < json.length; i++) {\n            rows += `\n            <tbody>\n        <tr class=\"bg-white\">\n            <td class=\"px-4 py-2\">${json[i].nama}</td>\n            <td class=\"px-4 py-2\">${json[i].kelas}</td>\n            <td class=\"px-4 py-2\">${json[i].absenId}</td>\n            <td class=\"px-4 py-2\">\n            <button onclick=\"viewQR(this)\" class=\"btn btn-primary\" data-id=\"${json[i].absenId}\">Info</button>\n            </td>\n            <td class=\"px-4 py-2\">\n            <button onclick=\"deleteId(this)\" class=\"btn btn-primary\" data-id=\"${json[i].absenId}\">Delete</button>\n            </td>\n        </tr>\n        </tbody>\n        `;\n        }\n        console.log(rows)\n        table.innerHTML += rows;\n        table.classList.add(\"table-auto\")\n    }\n}\n\nasync function deleteId(e){\n    let confirmation = confirm(\"Yakin kah ?\")\n    if(!confirmation) return\n    let id = e.getAttribute(\"data-id\")\n\n    let token = localStorage.getItem(\"token\")\n    let res = await fetch(api + \"api/remuser\", {\n        method: \"DELETE\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ token,id }),\n    });\n\n    let data = await res.json()\n    if(data.status === 200) {\n        alert(data.message)\n        document.location.reload()\n    } else {\n        alert(data.message)\n    }\n\n}\n\nfunction viewQR(id){\n    let idAbsen = id.getAttribute(\"data-id\")\n    document.location.href = \"./info.html?id=\"+idAbsen\n}"],"names":["api","async","absen","nama","document","getElementById","value","kelas","id","token","localStorage","getItem","res","fetch","method","headers","body","JSON","stringify","data","json","status","alert","message","LoadAbsen","table","rows","console","log","i","length","absenId","innerHTML","classList","add","deleteId","e","confirm","getAttribute","location","reload","viewQR","idAbsen","href"],"version":3,"file":"buatAbsensi.e16f1c2e.js.map"}