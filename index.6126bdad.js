function scanQRCode(){const e=new ZXingBrowser.BrowserQRCodeReader;document.getElementById("scan-button");e.decodeFromImageElement(document.getElementById("qr-image")).then((e=>{console.log(e.text);let t=JSON.parse(e.text);if(!t.nama&&!t.kelas&&!t.id)return alert("QR Code Salah");document.querySelectorAll("#qr-btn .btn.scan").forEach((e=>e.remove())),absen(t.nama,t.kelas,t.id)})).catch((e=>{console.error(e),alert("Failed to scan QR code.")}))}function chooseImageSource(){const e=document.createElement("input");e.type="file",e.accept="image/*",e.addEventListener("change",(e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.addEventListener("load",(()=>{const t=document.getElementById("qr-image");t.src=e.result,t.classList.add("hidden"),scanQRCode()})),e.readAsDataURL(t)}}));showOptionsDialog("Choose Image Source",[{label:"Take Picture",handler:()=>alert("Camera not supported.")},{label:"Choose from Gallery",handler:()=>e.click()}])}function showOptionsDialog(e,t){const n=document.createElement("div");n.classList.add("dialog");const a=document.createElement("h1");a.innerText=e,n.appendChild(a);const o=document.createElement("div");o.classList.add("button-container"),t.forEach((e=>{const t=document.createElement("button");t.innerText=e.label,t.classList.add("btn","btn-primary","scan"),t.addEventListener("click",e.handler),o.appendChild(t)})),n.appendChild(o),document.querySelector("#qr-btn").appendChild(n)}
//# sourceMappingURL=index.6126bdad.js.map
